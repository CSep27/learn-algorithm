<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	function bucketSort (array) {
		// 1.原数组最大最小值
		var max = array[0]
		var min = array[0]
		for (var i = 1; i < array.length; i++) {
			if (array[i] > max) {
				max = array[i]
			}
			if (array[i] < min) {
				min = array[i]
			}
		}
		if (max === min) {
			return array
		}

		// 2.初始化桶
		var bucketNum = array.length
		var buckets = new Array(bucketNum)
		for (var i = 0; i < buckets.length; i++) {
			buckets[i] = new Array()
		}

		// 每个桶的区间跨度
		var distance = (max - min) / (bucketNum - 1)

		// 3.遍历原始数组 将元素放到对应的桶中
		for (var i = 0; i < array.length; i++) {
			// 确定数组元素所属桶的下标
			var index = Math.floor(((array[i] - min) / distance))
			buckets[index].push(array[i])
		}

		// 4.每个桶内部进行排序
		for (var i = 0; i < buckets.length; i++) {
			buckets[i].sort((a, b) => {
				return a - b
			})
		}

		// 5.依次输出每个桶里的值
		var sortedArr = []
		for (var i = 0; i < buckets.length; i++) {
			for (var j = 0; j < buckets[i].length; j++) {
				sortedArr.push(buckets[i][j])
			}
		}

		return sortedArr
	}
	var arr = [4.49, 0.84, 3.25, 2.18, 0.5]
	console.log(bucketSort(arr))
</script>
</html>